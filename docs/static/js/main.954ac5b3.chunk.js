(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,r){e.exports=r(49)},24:function(e,t,r){},45:function(e,t,r){},47:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(16),o=r.n(a),c=(r(24),r(3)),i=r(4),l=r(6),u=r(5),m=r(7),p=r(17),d=r(1);function v(e){var t=e.repos,r=e.error,n=e.selectRepo;return r?s.createElement("div",{className:"repo-list"},s.createElement("p",{className:"error"},r)):s.createElement("div",{className:"repo-list"},t.map(function(e){return s.createElement("span",{key:e.full_name,onClick:function(e){return function(t){t.preventDefault(),n(e)}}(e)},s.createElement("label",null,"".concat(e.owner.login,"/")),e.name)}))}var f=r(8),h=r.n(f);var E="https://api.github.com",b={searchRepositories:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return h.a.get("".concat(E,"/search/repositories"),{params:{q:e,sort:t,order:r}})},getIssues:function(e){return h.a.get("".concat(E,"/repos/").concat(e,"/issues"))}},g=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={repos:[],error:""},r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"searchRepos",value:function(e){var t=this;this.setState({loading:!0,error:"Loading..."}),b.searchRepositories(e).then(function(e){0!==e.data.total_count?t.setState({repos:e.data.items,error:""}):t.setState({error:"No repos were found."})}).catch(function(){t.setState({error:"Something went wrong."})})}},{key:"render",value:function(){var e=this,t=this.state,r=t.repos,n=t.error;return s.createElement("form",{className:"select-repo",onSubmit:function(t){t.preventDefault(),t.target.term.value.trim()?e.searchRepos(t.target.term.value):e.setState({error:"No search term entered."})}},s.createElement("input",{name:"term",placeholder:"Search Github Repos"}),s.createElement(v,{repos:r,error:n,selectRepo:this.props.selectRepo}))}}]),t}(s.Component);function O(e){var t=e.issues,r=e.error,n=e.selectIssue;return r?s.createElement("div",{className:"issue-list"},s.createElement("p",{className:"error"},r)):s.createElement("div",{className:"issue-list"},t.map(function(e){return s.createElement("span",{key:e.id,onClick:function(e){return function(t){t.preventDefault(),n&&n(e)}}(e)},s.createElement("span",{className:"issue-number"},e.number)," ",e.title)}))}var j=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={addMode:!1,allIssues:[],selectError:"",listError:""},r.toggleAdd=r.toggleAdd.bind(Object(d.a)(Object(d.a)(r))),r.addIssue=r.addIssue.bind(Object(d.a)(Object(d.a)(r))),r.removeIssue=r.removeIssue.bind(Object(d.a)(Object(d.a)(r))),r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"addIssue",value:function(e){var t=this.state.allIssues,r=this.props,s=r.repo,n=r.save,a=t.findIndex(function(t){return t.id===e.id});if(a>=0){var o=t.slice(),c=s.issues.slice();o.splice(a,1),c.findIndex(function(t){return t.id===e.id})<0&&(c.push(e),s.issues=c),this.setState({allIssues:o},function(){return n()})}}},{key:"removeIssue",value:function(e){var t=this.props,r=t.repo,s=t.save,n=r.issues.slice(),a=n.findIndex(function(t){return t.id===e.id});a>=0&&(n.splice(a,1),r.issues=n,this.forceUpdate(function(){return s()}))}},{key:"fetchIssues",value:function(){var e=this,t=this.props.repo;this.setState({selectError:"Loading..."}),this.setState({allIssues:[]},function(){b.getIssues(t.full_name).then(function(t){t.data.length?e.setState({allIssues:t.data,selectError:""}):e.setState({selectError:"No issues exist on this repo."})}).catch(function(){e.setState({selectError:"There was a problem loading issues."})})})}},{key:"toggleAdd",value:function(e){e&&this.fetchIssues(),this.setState({addMode:e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.repo,n=t.removeRepo,a=this.state,o=a.addMode,c=a.allIssues,i=a.selectError,l=a.listError;return s.createElement("div",{className:"repo-card"},s.createElement("span",{className:"close",onClick:function(){return n(r)}},"X"),s.createElement("div",{className:"repo-title"},s.createElement("p",{className:"repo-owner"},r.owner.login),s.createElement("h1",{className:"repo-name"},r.name)),o?s.createElement("div",null,s.createElement("span",{className:"stop-adding",onClick:function(){return e.toggleAdd(!1)}},"Stop Adding"),s.createElement(O,{issues:c,selectIssue:this.addIssue,error:i})):s.createElement("div",null,s.createElement(O,{issues:r.issues,selectIssue:this.removeIssue,error:l}),s.createElement("span",{className:"add-issue",onClick:function(){return e.toggleAdd(!0)}})))}}]),t}(s.Component);function N(e){var t=e.repos,r=e.removeRepo,n=e.save;return s.createElement("div",{className:"repo-collection"},t.map(function(e){return s.createElement(j,{repo:e,removeRepo:r,key:e.full_name,save:n})}),s.createElement("div",{className:"repo-card-empty"}),s.createElement("div",{className:"repo-card-empty"}),s.createElement("div",{className:"repo-card-empty"}),s.createElement("div",{className:"repo-card-empty"}),s.createElement("div",{className:"repo-card-empty"}),s.createElement("div",{className:"repo-card-empty"}))}r(45);var I=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={repos:[]},r.removeRepo=r.removeRepo.bind(Object(d.a)(Object(d.a)(r))),r.selectRepo=r.selectRepo.bind(Object(d.a)(Object(d.a)(r))),r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("repos");e&&this.setState({repos:JSON.parse(e)})}},{key:"removeRepo",value:function(e){var t=this,r=this.state.repos,s=r.findIndex(function(t){return t.id===e.id});if(s>=0){var n=r.slice();n.splice(s,1),this.setState({repos:n},function(){return t.save()()})}}},{key:"selectRepo",value:function(e){var t=this,r=this.state.repos;if(r.findIndex(function(t){return t.id===e.id})<0){e.issues=[];var s=Object(p.a)(r.slice()).concat([e]);this.setState({repos:s},function(){return t.save()()})}}},{key:"save",value:function(){var e=this;return function(){return window.localStorage.setItem("repos",JSON.stringify(e.state.repos))}}},{key:"render",value:function(){var e=this.state.repos;return s.createElement("div",{className:"container"},s.createElement("div",{className:"left-pane"},s.createElement(g,{selectRepo:this.selectRepo})),s.createElement("div",{className:"main-list"},s.createElement(N,{removeRepo:this.removeRepo,repos:e,save:this.save()})))}}]),t}(s.Component),y=(r(47),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.createElement(I,null)}}]),t}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.954ac5b3.chunk.js.map